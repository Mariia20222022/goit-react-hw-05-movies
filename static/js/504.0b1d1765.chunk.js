"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[504],{933:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(87),s=n(675),a="MovieGallery_gallery__Oyx2w",c="MovieGallery_item__4tR9S",o="MovieGallery_link__CmVj8",i=n(184),u=function(e){var t=e.movies;return(0,i.jsx)("div",{children:(0,i.jsx)("ul",{className:a,children:t.map((function(e){return(0,i.jsx)("li",{className:c,children:(0,i.jsxs)(r.rU,{className:o,to:"/movies/".concat(e.id),children:[(0,i.jsx)(s.Z,{}),e.title]})},e.id)}))})})}},504:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r=n(861),s=n(439),a=n(757),c=n.n(a),o=n(791),i=n(689),u=n(87),l="Searchbar_form__D-hp5",f="Searchbar_input__19umw",h="Searchbar_button__nkcjk",v="Searchbar_link__EA4he",p=n(675),d=n(184),m=function(){return(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",height:"26",width:"26",children:[(0,d.jsx)("defs",{id:"defs3051",fill:"#ffffff",children:(0,d.jsx)("style",{type:"text/css",id:"current-color-scheme",fill:"#ffffff"})}),(0,d.jsx)("path",{d:"M 6.5 2 C 4.007 2 2 4.01 2 6.5 C 2 8.993 4.01 11 6.5 11 C 7.5636432 11 8.5263409 10.618801 9.2949219 10.005859 L 13.292969 14.003906 L 14 13.296875 L 10.001953 9.2988281 C 10.617604 8.529048 11 7.565338 11 6.5 C 11 4.007 8.99 2 6.5 2 z M 6.5 3 C 8.439 3 10 4.561 10 6.5 C 10 8.439 8.439 10 6.5 10 C 4.561 10 3 8.439 3 6.5 C 3 4.561 4.561 3 6.5 3 z ",className:"ColorScheme-Text",fill:"#ffffff"})]})},x=function(e){e.onSearch;var t=(0,o.useState)(""),n=(0,s.Z)(t,2),a=n[0],x=n[1],_=(0,o.useState)([]),j=(0,s.Z)(_,2),g=j[0],b=j[1],y=(0,o.useState)(!1),w=(0,s.Z)(y,2),S=w[0],k=w[1],C=(0,i.TH)();console.log(C.state);var Z=(0,u.lr)(),N=(0,s.Z)(Z,2),L=N[0],q=N[1];(0,o.useEffect)((function(){var e=L.get("query");e&&x(e)}),[L]);var M=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),t=new URLSearchParams({api_key:"acee11b4b18b6e03b694743e5006f3ac",language:"en-US",query:a,page:"1",include_adult:"false"}),e.next=5,fetch("".concat("https://api.themoviedb.org/3","/search/movie?").concat(t));case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,b(r.results),console.log(r.results),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:return e.prev=16,k(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(){return e.apply(this,arguments)}}();return console.log(a,g),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("form",{className:l,onSubmit:function(e){e.preventDefault(),M(),L.set("query",a),q(L)},children:[(0,d.jsx)("input",{className:f,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",name:"query",value:a,onChange:function(e){return x(e.target.value)}}),(0,d.jsxs)("button",{className:h,type:"submit",children:[(0,d.jsx)(m,{}),"Search"]})]}),S?(0,d.jsx)("p",{children:"Loading..."}):(0,d.jsx)("ul",{children:g.map((function(e){return(0,d.jsx)("li",{children:(0,d.jsxs)(u.rU,{className:v,to:"/movies/".concat(e.id),state:{from:C},children:[(0,d.jsx)(p.Z,{}),e.title]})},e.id)}))})]})},_=n(933),j=function(){var e=(0,o.useState)([]),t=(0,s.Z)(e,2),n=t[0],a=t[1],u=(0,o.useState)(!1),l=(0,s.Z)(u,2),f=l[0],h=l[1],v=(0,i.TH)();console.log(v.state);var p=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("acee11b4b18b6e03b694743e5006f3ac","&query=").concat(t));case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,a(r.results),console.log(r.results),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:return e.prev=15,h(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(t){return e.apply(this,arguments)}}();return(0,d.jsxs)("div",{children:[(0,d.jsx)(x,{onSearch:p,state:{from:v}}),f&&(0,d.jsx)("p",{children:"Loading..."}),!f&&(0,d.jsx)(_.Z,{movies:n})]})}},861:function(e,t,n){function r(e,t,n,r,s,a,c){try{var o=e[a](c),i=o.value}catch(u){return void n(u)}o.done?t(i):Promise.resolve(i).then(r,s)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var c=e.apply(t,n);function o(e){r(c,s,a,o,i,"next",e)}function i(e){r(c,s,a,o,i,"throw",e)}o(void 0)}))}}n.d(t,{Z:function(){return s}})}}]);
//# sourceMappingURL=504.0b1d1765.chunk.js.map